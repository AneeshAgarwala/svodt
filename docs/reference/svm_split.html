<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Build an Oblique Decision Tree Using SVM Splits — svm_split • svmodt</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Build an Oblique Decision Tree Using SVM Splits — svm_split"><meta property="og:description" content="Constructs a decision tree where each internal node uses a Support Vector
Machine (SVM) to determine the split. Supports dynamic feature selection,
feature penalization, scaling, and class weighting."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">svmodt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Constructing Oblique Trees with svmodt</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Build an Oblique Decision Tree Using SVM Splits</h1>

    <div class="hidden name"><code>svm_split.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Constructs a decision tree where each internal node uses a Support Vector
Machine (SVM) to determine the split. Supports dynamic feature selection,
feature penalization, scaling, and class weighting.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">svm_split</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">response</span>,</span>
<span>  depth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  max_depth <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  min_samples <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  max_features <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  feature_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"random"</span>, <span class="st">"mutual"</span>, <span class="st">"cor"</span><span class="op">)</span>,</span>
<span>  max_features_strategy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"constant"</span>, <span class="st">"random"</span>, <span class="st">"decrease"</span><span class="op">)</span>,</span>
<span>  max_features_decrease_rate <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  max_features_random_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  penalize_used_features <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  feature_penalty_weight <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  used_features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  class_weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"balanced"</span>, <span class="st">"balanced_subsample"</span>, <span class="st">"custom"</span><span class="op">)</span>,</span>
<span>  custom_class_weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  all_classes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing predictors and the response variable.</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>Character string specifying the response column in `data`.
All other columns are treated as predictors.</p></dd>


<dt id="arg-depth">depth<a class="anchor" aria-label="anchor" href="#arg-depth"></a></dt>
<dd><p>Integer indicating the current recursion depth (used internally; default is 1).</p></dd>


<dt id="arg-max-depth">max_depth<a class="anchor" aria-label="anchor" href="#arg-max-depth"></a></dt>
<dd><p>Maximum depth of the tree.</p></dd>


<dt id="arg-min-samples">min_samples<a class="anchor" aria-label="anchor" href="#arg-min-samples"></a></dt>
<dd><p>Minimum number of samples required to attempt a split.</p></dd>


<dt id="arg-max-features">max_features<a class="anchor" aria-label="anchor" href="#arg-max-features"></a></dt>
<dd><p>Maximum number of features to consider at each split.</p></dd>


<dt id="arg-feature-method">feature_method<a class="anchor" aria-label="anchor" href="#arg-feature-method"></a></dt>
<dd><p>Feature selection method at each node. One of:</p><ul><li><p>`"random"`: randomly select features,</p></li>
<li><p>`"mutual"`: select based on mutual information with the response,</p></li>
<li><p>`"cor"`: select based on correlation with the response.</p></li>
</ul></dd>


<dt id="arg-max-features-strategy">max_features_strategy<a class="anchor" aria-label="anchor" href="#arg-max-features-strategy"></a></dt>
<dd><p>Strategy to adjust the number of features per node:</p><ul><li><p>`"constant"`: keep `max_features` constant,</p></li>
<li><p>`"decrease"`: reduce features with depth,</p></li>
<li><p>`"random"`: randomly vary number of features within a range.</p></li>
</ul></dd>


<dt id="arg-max-features-decrease-rate">max_features_decrease_rate<a class="anchor" aria-label="anchor" href="#arg-max-features-decrease-rate"></a></dt>
<dd><p>Numeric fraction for decreasing features if
`max_features_strategy = "decrease"`.</p></dd>


<dt id="arg-max-features-random-range">max_features_random_range<a class="anchor" aria-label="anchor" href="#arg-max-features-random-range"></a></dt>
<dd><p>Numeric vector of length 2 specifying min and max
fraction of features if `max_features_strategy = "random"`.</p></dd>


<dt id="arg-penalize-used-features">penalize_used_features<a class="anchor" aria-label="anchor" href="#arg-penalize-used-features"></a></dt>
<dd><p>Logical; if TRUE, features used in ancestor nodes
are penalized to encourage diversity.</p></dd>


<dt id="arg-feature-penalty-weight">feature_penalty_weight<a class="anchor" aria-label="anchor" href="#arg-feature-penalty-weight"></a></dt>
<dd><p>Numeric (0–1) weight for penalizing previously used features.</p></dd>


<dt id="arg-used-features">used_features<a class="anchor" aria-label="anchor" href="#arg-used-features"></a></dt>
<dd><p>Character vector of features already used in ancestor nodes
(used internally).</p></dd>


<dt id="arg-class-weights">class_weights<a class="anchor" aria-label="anchor" href="#arg-class-weights"></a></dt>
<dd><p>Character string specifying how to handle class imbalance. One of:</p><ul><li><p>`"none"`: no weighting,</p></li>
<li><p>`"balanced"`: weight classes inversely proportional to their frequency,</p></li>
<li><p>`"balanced_subsample"`: weight per node based on local class distribution,</p></li>
<li><p>`"custom"`: use `custom_class_weights`.</p></li>
</ul></dd>


<dt id="arg-custom-class-weights">custom_class_weights<a class="anchor" aria-label="anchor" href="#arg-custom-class-weights"></a></dt>
<dd><p>Optional named numeric vector specifying custom weights per class.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical; if TRUE, prints information about each node during tree construction.</p></dd>


<dt id="arg-all-classes">all_classes<a class="anchor" aria-label="anchor" href="#arg-all-classes"></a></dt>
<dd><p>Optional character vector of all possible response classes (used internally).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to the underlying SVM fitting function.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A nested list representing the decision tree. Each node contains:</p><dl><dt>is_leaf</dt>
<dd><p>Logical; TRUE if the node is a leaf.</p></dd>

  <dt>model</dt>
<dd><p>Fitted SVM model at this node (for internal nodes).</p></dd>

  <dt>features</dt>
<dd><p>Vector of features selected for this node.</p></dd>

  <dt>scaler</dt>
<dd><p>Scaling information used at this node.</p></dd>

  <dt>left</dt>
<dd><p>Left child node (decision value &gt; 0).</p></dd>

  <dt>right</dt>
<dd><p>Right child node (decision value ≤ 0).</p></dd>

  <dt>depth</dt>
<dd><p>Depth of this node in the tree.</p></dd>

  <dt>n</dt>
<dd><p>Number of samples at this node.</p></dd>

  <dt>max_features_used</dt>
<dd><p>Number of features considered at this node.</p></dd>

  <dt>penalty_applied</dt>
<dd><p>Logical; TRUE if feature penalization was applied.</p></dd>

  <dt>class_weights_used</dt>
<dd><p>Class weights applied at this node.</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function recursively splits the dataset using an SVM at each node. Splitting
stops when maximum depth is reached, the node contains fewer than `min_samples`,
or all samples belong to the same class. Features are scaled and selected dynamically
at each node, and previously used features can be penalized to promote diversity.
Class weighting schemes support handling imbalanced datasets. This approach allows
construction of an **oblique decision tree**, where splits are linear hyperplanes
rather than axis-aligned.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">wdbc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu">svm_split</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">wdbc</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"diagnosis"</span>,</span></span>
<span class="r-in"><span>  max_depth <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  min_samples <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  feature_method <span class="op">=</span> <span class="st">"random"</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Node at depth 1 ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rows: 569 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   B   M </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 357 212 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class weights: none (equal weights)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dynamic max_features: 30 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Selected features: radius_mean, texture_mean, perimeter_mean, area_mean, smoothness_mean, compactness_mean, concavity_mean, concave.points_mean, symmetry_mean, fractal_dimension_mean, radius_se, texture_se, perimeter_se, area_se, smoothness_se, compactness_se, concavity_se, concave.points_se, symmetry_se, fractal_dimension_se, radius_worst, texture_worst, perimeter_worst, area_worst, smoothness_worst, compactness_worst, concavity_worst, concave.points_worst, symmetry_worst, fractal_dimension_worst </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SVM fitting with equal weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Left size: 209 Right size: 360 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Node at depth 2 ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rows: 209 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   B   M </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 207 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class weights: none (equal weights)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dynamic max_features: 30 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Selected features: radius_mean, texture_mean, perimeter_mean, area_mean, smoothness_mean, compactness_mean, concavity_mean, concave.points_mean, symmetry_mean, fractal_dimension_mean, radius_se, texture_se, perimeter_se, area_se, smoothness_se, compactness_se, concavity_se, concave.points_se, symmetry_se, fractal_dimension_se, radius_worst, texture_worst, perimeter_worst, area_worst, smoothness_worst, compactness_worst, concavity_worst, concave.points_worst, symmetry_worst, fractal_dimension_worst </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SVM fitting with equal weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Left size: 207 Right size: 2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Right child too small, only creating left child</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Node at depth 3 ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rows: 207 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   B   M </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0 207 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stopping at depth 3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --- Node at depth 2 ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rows: 360 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   B   M </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 355   5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Class weights: none (equal weights)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dynamic max_features: 30 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Selected features: radius_mean, texture_mean, perimeter_mean, area_mean, smoothness_mean, compactness_mean, concavity_mean, concave.points_mean, symmetry_mean, fractal_dimension_mean, radius_se, texture_se, perimeter_se, area_se, smoothness_se, compactness_se, concavity_se, concave.points_se, symmetry_se, fractal_dimension_se, radius_worst, texture_worst, perimeter_worst, area_worst, smoothness_worst, compactness_worst, concavity_worst, concave.points_worst, symmetry_worst, fractal_dimension_worst </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SVM fitting with equal weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Left size: 360 Right size: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Stopping: ineffective split (all points on one side)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Aneesh Agarwal, Jack Jewson, Erik Sverdrup.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

